{
  "_id": "_design/filter",
  "_rev": "7-a749baa85d250f087d203837e1aa9978",
  "views": {
    "token": {
      "reduce": "function (keys, values, rereduce) {\n  if (rereduce) {\n    var result = {\n      count: values[0].count,\n      vic: values[0].vic,\n      nsw: values[0].nsw,\n      qs: values[0].qs,\n      wa: values[0].wa,\n      sa: values[0].sa,\n      tas: values[0].tas,\n      nt: values[0].nt\n\n    };\n    for (var i = 1; i < values.length; i++) {\n      result.count = result.count + values[i].count;\n      result.vic = result.vic + values[i].vic;\n      result.nsw = result.nsw + values[i].nsw;\n      result.qs = result.qs + values[i].qs;\n      result.sa = result.sa + values[i].sa;\n      result.tas = result.tas + values[i].tas;\n      result.wa = result.wa + values[i].wa;\n      result.nt = result.nt + values[i].nt;\n    }\n    return result\n  }\n  // Non-rereduce case\n  var result = {\n    count: 0,\n    vic: 0,\n    nsw: 0,\n    qs: 0,\n    sa: 0,\n    tas: 0,\n    wa: 0,\n    nt: 0\n\n  }\n\n  // add list...\n  for (var i = 0; i < keys.length; i++) {\n\n    // if ...\n    if (values[i].z.indexOf('Victoria') != -1) {\n      result.vic = result.vic + 1\n    }\n    else if (values[i].z.indexOf('New South Wales') != -1) {\n      result.nsw = result.nsw + 1\n    }\n    else if (values[i].z.indexOf('Queensland') != -1) {\n      result.qs = result.qs + 1\n    }\n    else if (values[i].z.indexOf('South Australia') != -1) {\n      result.sa = result.sa + 1\n    }\n    else if (values[i].z.indexOf('Tasmania') != -1) {\n      result.tas = result.tas + 1\n    }\n    else if (values[i].z.indexOf('Western Australia') != -1) {\n      result.wa = result.wa + 1\n    }\n    else if (values[i].z.indexOf('Northern Territory') != -1) {\n      result.nt = result.nt + 1\n    }\n    result.count = result.count + 1\n  }\n  return result\n}",
      "map": "function (doc) {\n    z = doc.place.full_name;\n\n    var emojis = ['ðŸ”', 'ðŸŸ', 'ðŸ•', 'ðŸŒ­', 'ðŸ°', 'ðŸ«', 'ðŸ¦', 'ðŸ¨', 'ðŸ©', 'ðŸº', 'ðŸ»', 'ðŸ˜‹', 'ðŸ¤¤', 'ðŸŽ‚', 'ðŸ·', 'ðŸ¬', 'ðŸª', 'ðŸ—', 'ðŸœ']\n    var token_list = ['Burger', 'Fast food', 'Fish and chips', 'Ice cream', 'Junk food', 'Beer', 'Soft drink', 'KFC', 'Alcohol', 'McDonald', 'Hungry Jack', 'Chocolate', 'Cake', 'Doughnut', 'Cheess', 'Fried chicken', 'dominos', 'dessert', 'Candy', 'Bubble Tea','Foodie','Hungry','Full','Eat','Drunk']\n    for (var i = 0; i < token_list.length; i++) {\n        token_list[i] = token_list[i].toLowerCase()\n    }\n    var all = token_list.concat(emojis)\n    for (var i = 0; i < all.length; i++) {\n        if (doc.text.toLowerCase().indexOf(all[i]) != -1) {\n            emit(doc.text, { z: z });\n            break;\n        }\n    }\n}"
    },
    "total": {
      "reduce": "function (keys, values, rereduce) {\n  if (rereduce) {\n    var result = {\n      count: values[0].count,\n      vic: values[0].vic,\n      nsw: values[0].nsw,\n      qs: values[0].qs,\n      wa: values[0].wa,\n      sa: values[0].sa,\n      tas: values[0].tas,\n      nt: values[0].nt\n\n    };\n    for (var i = 1; i < values.length; i++) {\n      result.count = result.count + values[i].count;\n      result.vic = result.vic + values[i].vic;\n      result.nsw = result.nsw + values[i].nsw;\n      result.qs = result.qs + values[i].qs;\n      result.sa = result.sa + values[i].sa;\n      result.tas = result.tas + values[i].tas;\n      result.wa = result.wa + values[i].wa;\n      result.nt = result.nt + values[i].nt;\n    }\n    return result\n  }\n  // Non-rereduce case\n  var result = {\n    count: 0,\n    vic: 0,\n    nsw: 0,\n    qs: 0,\n    sa: 0,\n    tas: 0,\n    wa: 0,\n    nt: 0\n\n  }\n\n  // add list...\n  for (var i = 0; i < keys.length; i++) {\n\n    // if ...\n    if (values[i].z.indexOf('Victoria') != -1) {\n      result.vic = result.vic + 1\n    }\n    else if (values[i].z.indexOf('New South Wales') != -1) {\n      result.nsw = result.nsw + 1\n    }\n    else if (values[i].z.indexOf('Queensland') != -1) {\n      result.qs = result.qs + 1\n    }\n    else if (values[i].z.indexOf('South Australia') != -1) {\n      result.sa = result.sa + 1\n    }\n    else if (values[i].z.indexOf('Tasmania') != -1) {\n      result.tas = result.tas + 1\n    }\n    else if (values[i].z.indexOf('Western Australia') != -1) {\n      result.wa = result.wa + 1\n    }\n    else if (values[i].z.indexOf('Northern Territory') != -1) {\n      result.nt = result.nt + 1\n    }\n    result.count = result.count + 1\n  }\n  return result\n}",
      "map": "function (doc) {\n  z = doc.place.full_name;\n  emit(doc.text,{z:z});\n}"
    }
  },
  "language": "javascript"
}